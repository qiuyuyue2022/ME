<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QiuYuyueéšæ‰‹è®°</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { max-width: 700px; margin: 40px auto; padding: 20px; font-family: -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #f6f8fa; color: #1f2328; line-height: 1.6; }
        h1 { font-size: 24px; text-align: center; margin-bottom: 30px; color: #24292f; }
        .post { background: #fff; padding: 25px; margin-bottom: 25px; border-radius: 8px; border: 1px solid #d0d7de; box-shadow: 0 2px 4px rgba(140,149,159,0.1); }
        .post-title { font-size: 20px; font-weight: 600; margin-bottom: 10px; color: #0969da; border-bottom: 1px solid #eaecef; padding-bottom: 5px; }
        .date { font-size: 13px; color: #6e7781; margin-bottom: 15px; display: block; }
        .content { font-size: 15px; }
        /* è®©å›¾ç‰‡å’Œå…¬å¼ä¸è¶…å‡ºèŒƒå›´ */
        .content img { max-width: 100%; border-radius: 6px; }
        pre { background: #f6f8fa; padding: 12px; border-radius: 6px; overflow: auto; font-size: 14px; }
        code { background: rgba(175,184,193,0.2); padding: 0.2em 0.4em; border-radius: 6px; font-family: ui-monospace, SFMono-Regular, monospace; }
    </style>
</head>
<body>
    <h1>ğŸ“ QiuYuyueéšæ‰‹è®°</h1>
    <div id="app">åŠ è½½ä¸­...</div>

    <script>
        const user = 'qiuyuyue2022';
        const repo = 'ME';
        
        // é…ç½® marked è§£æé€‰é¡¹
        marked.setOptions({ gfm: true, breaks: true });

        fetch(`https://api.github.com/repos/${user}/${repo}/issues?per_page=100&state=open`)
            .then(res => res.json())
            .then(data => {
                const app = document.getElementById('app');
                if (!data.length) {
                    app.innerHTML = '<div style="text-align:center">è¿˜æ²¡æœ‰è®°è¿‡ä¸œè¥¿å“¦~</div>';
                    return;
                }

                app.innerHTML = data.map(item => `
                    <div class="post">
                        <div class="post-title">${item.title}</div>
                        <span class="date">ğŸ“… å‘å¸ƒäºï¼š${new Date(item.created_at).toLocaleDateString()}</span>
                        <div class="content">${marked.parse(item.body || 'æ— æ­£æ–‡å†…å®¹')}</div>
                    </div>
                `).join('');

                // æ¸²æŸ“å®Œæˆåè§¦å‘ MathJax æ¸²æŸ“æ•°å­¦å…¬å¼
                if (window.MathJax) {
                    MathJax.typeset();
                }
            })
            .catch(() => app.innerHTML = '<div style="text-align:center; color:red;">åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ä»“åº“æƒé™</div>');
    </script>
</body>
</html>
